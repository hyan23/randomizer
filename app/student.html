<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <title>学生成绩生成</title>
    <style type="text/css">
        div {
            margin: 20px;
        }

        .container {
            margin: 10% 30%;
        }
    </style>
</head>

<body>
    <div id="container" class="container">
        <div>
            <p>
                <b>学生成绩生成</b>
                作者: <a href="https://github.com/hyan23" target="_blank">hyan23</a>
            </p>
        </div>
        <div>
            <br> 学生数:
            <input name="num" type="text" maxlength="3" value="32">
            <br> 试题总分:
            <input name="top" type="text" maxlength="3" value="100">
            <input type="button" onclick="generate();" value="生成">
        </div>
        <div>
            <iframe id="result"></iframe>
        </div>
    </div>
</body>

<script>
    function input_value(name, base) {
        if (typeof base !== 'undefined') {
            return parseInt(document.getElementsByName(name)[0].value, base);
        } else {
            return parseInt(document.getElementsByName(name)[0].value);
        }
    }

    function generate() {
        var num = input_value('num');
        var top = input_value('top');
        if (isNaN(num) || isNaN(top)) {
            alert('输入有误');
            return;
        }
        var iframe = document.getElementById('result');
        iframe.src = '../?mode=decimal&num=' + num + '&lb=0&ub=' + top + '&row=5&order=asce&weight=1;1;1;1;1;3;4;5;3;1&repeat=1&title=hide&btn=hide';
    }
</script>

</html>